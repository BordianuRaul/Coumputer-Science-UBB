     1                                  bits 32
     2                                  
     3                                  global start
     4                                  
     5                                  extern exit
     6                                  import exit msvcrt.dll
     7                                  
     8                                  extern printf
     9                                  import printf msvcrt.dll
    10                                  
    11                                  extern find_max_byte
    12                                  extern find_min_byte
    13                                  
    14                                  segment data use32 class = data public
    15                                      
    16 00000000 FFFF0FFF                    string dw 1111111111111111b, 1111111100001111b
    17                                      len_str equ $ - string
    18                                      
    19 00000004 00000000                    result dd 0
    20 00000008 00                          max_byte db 0
    21 00000009 00                          min_byte db 0
    22 0000000A 636174756C203D2025-         format db "catul = %x restul = %x",0
    22 00000013 782072657374756C20-
    22 0000001C 3D20257800         
    23 00000021 FF                          one db -1
    24                                      
    25                                  segment code use32 class = code public
    26                                  
    27                                  start:
    28                                      
    29 00000000 68[00000000]                push dword string
    30 00000005 6A04                        push dword len_str
    31 00000007 68[04000000]                push dword result
    32 0000000C E8(00000000)                call find_max_byte
    33                                      
    34 00000011 58                          pop EAX
    35 00000012 83C408                      add ESP, 4 * 2
    36                                      
    37 00000015 A2[08000000]                mov [max_byte], AL
    38                                      
    39 0000001A 68[00000000]                push dword string
    40 0000001F 6A04                        push dword len_str
    41 00000021 68[04000000]                push dword result
    42 00000026 E8(00000000)                call find_min_byte
    43                                      
    44 0000002B 58                          pop EAX
    45 0000002C 83C408                      add ESP, 4 * 2
    46                                      
    47 0000002F A2[09000000]                mov [min_byte], AL
    48                                      
    49 00000034 A0[08000000]                mov AL, [max_byte]
    50 00000039 6698                        cbw 
    51 0000003B 8A1D[09000000]              mov BL, [min_byte]
    52                                      
    53 00000041 F6FB                        idiv BL
    54                                      
    55 00000043 88C3                        mov BL, AL
    56                                      
    57 00000045 88E0                        mov AL, AH
    58 00000047 F62D[21000000]              imul byte [one]
    59 0000004D 98                          cwde
    60 0000004E 50                          push EAX
    61                                      
    62 0000004F 88D8                        mov AL,BL
    63 00000051 F62D[21000000]              imul byte [one]
    64 00000057 98                          cwde
    65 00000058 50                          push EAX
    66                                      
    67 00000059 68[0A000000]                push dword format
    68 0000005E FF15[00000000]              call [printf]
    69                                      
    70 00000064 83C40C                      add ESP, 4 * 3
    71                                      
    72 00000067 6A00                        push dword 0
    73 00000069 FF15[00000000]              call [exit]
    74                                      
    75                                  
    76                                      
    77                                      
    78                                      
    79                                      
    80                                      
    81                                      
    82                                      
    83                                      
    84                                      
    85                                      
    86                                      
    87                                      
    88                                      
    89                                      
    90                                      
    91                                      
    92                                      
    93                                      
